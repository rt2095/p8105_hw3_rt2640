---
title: "p8105_hw3_rt2640"
output: github_document
---

```{r loading libraries}
library(tidyverse)

```

### Problem 1

```{r loading the dataset}
library(p8105.datasets)
data("instacart")

```

The instacart dataset contains 1348617 observations and 15 variables. The dataframe provides a description of the orders on instacart including the items ordered, a description of their aisles and respective departments, along with a description of the user, the time of the order, days since the last order, and items reordered.

#### Problem 1 Part 1

```{r}
instacart_df = instacart %>%
  select(order_id:add_to_cart_order,aisle_id:department) %>% 
  group_by(aisle_id , aisle) %>%
  summarise(total = n()) %>%
  arrange(-total)
```
There are 134 aisles in total and most items are ordered from the fresh vegetables aisle 83 (n= 150609) followed by the fresh fruits aisle 24 (n =150473).

#### Problem 1 Part 2

```{r}
dept = instacart_df %>%
  filter(total > 10000) %>%
  arrange(-total)

dept %>%
  ggplot(aes(x = total, y = aisle)) +
  geom_point()

```

#### Problem 1 Part 3

```{r}
baking = instacart %>%
  group_by (aisle_id, aisle,product_name) %>%
  filter(aisle == "baking ingredients") %>%
  summarise (total = n() ) %>%
  arrange (-total) %>%
  head(3)

dog_food = instacart %>%
  group_by (aisle_id, aisle,product_name) %>%
  filter(aisle == "dog food care") %>%
  summarise (total = n() ) %>%
  arrange (-total) %>%
  head(3)

pack_veg_fruits = instacart %>%
  group_by (aisle_id, aisle,product_name) %>%
  filter(aisle == "packaged vegetables fruits") %>%
  summarise (total = n() ) %>%
  arrange (-total) %>%
  head(3)

c1_table = bind_rows(baking, dog_food, pack_veg_fruits) %>%
  janitor::clean_names() %>%
  arrange(-total) %>% 
  as_tibble() %>% 
  knitr::kable()
c1_table
```




